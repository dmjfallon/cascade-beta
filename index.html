<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#6366f1">
  <link rel="icon" type="image/png" href="favicon-32x32.png">

  <!--
    This is the page title shown in the browser tab.
    It does not affect calculations.
  -->
  <title>Cascade â€“ simulator for two mortgages</title>

  <!--
  Main stylesheet.
  Controls layout, spacing, typography and visual styling.
  Removing this affects presentation only, not calculation logic.
  -->
  <link rel="stylesheet" href="style.css">

  <!--
  External dependency: Chart.js
  Provides balance-over-time chart rendering.
  Must load before chart.js.
  -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<header class="hero">
  <h1 class="hero-title">
  Optimise how you repay two mortgages
</h1>

<div class="hero-explainer">
  <p>
    See whether combining overpayments saves you time and interest.
  </p>
</div>

<div class="hero-points">
  <h3>Cascade is useful if you:</h3>
  <ul>
    <li>ğŸ  Own more than one property</li>
    <li>ğŸ¤ Combine finances with a partner</li>
    <li>ğŸ“ˆ Are considering an investment property</li>
  </ul>
</div>

<p style="opacity:0.7; margin-top:18px;">
  Highest interest loan gets priority. Once a mortgage is paid off, freed up payments 'cascade' onto the remaining mortgage. 
</p>
  </div>
</header>

<!--
  Container holds the two mortgage input cards side-by-side.
-->
<div class="container">

  <!-- ============================= -->
  <!-- Mortgage 1 Input Card -->
  <!-- ============================= -->
  <div class="card">

    <h2>Mortgage 1</h2>

    <label>Owner / Name (Optional)</label>
    <input id="m1-name" type="text" placeholder="Mortgage 1">

    <label>Balance (Â£)</label>
    <input id="m1-balance" type="text" inputmode="decimal">
    <div id="m1-balance-error" class="error-message"></div>

    <label>Interest Rate (%)</label>
    <input id="m1-rate" type="text" inputmode="decimal">
    <div id="m1-rate-error" class="error-message"></div>

    <label>Years</label>
    <input id="m1-years" type="text" inputmode="numeric">
    <div id="m1-years-error" class="error-message"></div>

    <label>Months</label>
    <input id="m1-months" type="text" inputmode="numeric">
    <div id="m1-months-error" class="error-message"></div>

    <label>Extra money per month (Â£)</label>
    <input id="m1-extra" type="text" inputmode="decimal">
    <div id="m1-extra-error" class="error-message"></div>
  </div>

  <!-- ============================= -->
  <!-- Mortgage 2 Input Card -->
  <!-- ============================= -->
  <div class="card">

    <h2>Mortgage 2</h2>

    <label>Owner / Name (Optional)</label>
    <input id="m2-name" type="text" placeholder="Mortgage 2">

    <label>Balance (Â£)</label>
    <input id="m2-balance" type="text" inputmode="decimal">
    <div id="m2-balance-error" class="error-message"></div>

    <label>Interest Rate (%)</label>
    <input id="m2-rate" type="text" inputmode="decimal">
    <div id="m2-rate-error" class="error-message"></div>

    <label>Years</label>
    <input id="m2-years" type="text" inputmode="numeric">
    <div id="m2-years-error" class="error-message"></div>

    <label>Months</label>
    <input id="m2-months" type="text" inputmode="numeric">
    <div id="m2-months-error" class="error-message"></div>

    <label>Extra money per month (Â£)</label>
    <input id="m2-extra" type="text" inputmode="decimal">
    <div id="m2-extra-error" class="error-message"></div>
  </div>

</div>

<!-- ============================= -->
<!-- Redirect Options -->
<!-- ============================= -->

<div class="cascade-options">

  <h3>After one mortgage is paid off:</h3>

  <label>
    <input type="checkbox" id="redirect-scheduled" checked>
    Add its scheduled payment to the other mortgage
  </label><br>

  <label>
    <input type="checkbox" id="redirect-extra" checked>
    Add any extra payments to the other mortgage
  </label>

</div>

<!--
  Calculate button triggers calculateFromUI()
  This function lives in app.js.
-->
<button id="calculate-btn" onclick="calculateFromUI()">
   ğŸ“Š Calculate Outcome
</button>

<!--
  Results container.
  app.js replaces its innerHTML dynamically.
-->
<div id="results"></div>

<!--
  Script loading order:

  1) engine.js â†’ financial logic
  2) chart.js  â†’ chart rendering
  3) app.js    â†’ UI controller

  engine.js must load before chart.js and app.js.
-->
<script src="engine.js"></script>
<script src="chart.js"></script>
<script src="app.js"></script>

<footer class="site-footer">

  <details class="footer-toggle">
    <summary>More about Cascade</summary>

    <div class="footer-section">
      <strong>ğŸŒŠ About Cascade</strong>
      <p>
        Most mortgage calculators handle a single loan. Cascade models two mortgages (using monthly compounding calculations),
        applies overpayments to the highest rate first, and compares this to
        paying off the mortgages separately.
      </p>
    </div>

    <div class="footer-section">
      <strong>ğŸš« Whatâ€™s Not Considered</strong>
      <ul>
        <li>Early repayment charges</li>
        <li>Overpayment limits</li>
        <li>Tax considerations</li>
        <li>Rate changes or refinancing</li>
        <li>Lender-specific rules</li>
        <li>Comparison with investing extra money instead</li>
        <li>And so on...</li>
      </ul>
    </div>

    <div class="footer-section">
      <strong>âš ï¸ Results are illustrative estimates</strong>
      Not guarantees. Always seek professional advice before making significant financial decisions.
      <a href="https://github.com/dmjfallon/cascade-beta/blob/main/README.md"
   target="_blank"
   rel="noopener noreferrer"
   style="color:#ffffff; text-decoration:underline;">
   Github README
</a>
    </div>

  </details>

</footer>

</body>
</html>